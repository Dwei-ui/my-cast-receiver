<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>My Cast Receiver</title>
  <script src="https://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
</head>
<body style="background-color: black; color: white;">
  <h1>Custom Receiver Loaded</h1>
  <script>
    // 初始化超时处理
    setTimeout(() => {
      const context = cast.framework.CastReceiverContext.getInstance();
      const playerManager = context.getPlayerManager();
      
      playerManager.setMessageInterceptor(
        cast.framework.messages.MessageType.LOAD,
        request => {
          return request;
        }
      );

      // 监听更多事件
      playerManager.addEventListener(
        cast.framework.events.EventType.PLAY,
        event => {
          // 处理播放
        }
      );
      playerManager.addEventListener(
        cast.framework.events.EventType.PAUSE,
        event => {
          // 处理暂停
        }
      );
      context.start();
      console.log("Cast Receiver Context started");
    }, 1000);
  </script>
</body>
</html>
